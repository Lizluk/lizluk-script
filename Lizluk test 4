--// LIZLUK GHOST GUI ü¶ã FULL FINAL (CORE EDITABLE)
repeat task.wait() until game:IsLoaded()

---------------- SECURITY CHECK ----------------
local Players = game:GetService("Players")
local player = Players.LocalPlayer
local UIS = game:GetService("UserInputService")
local RunService = game:GetService("RunService")

local ALLOWED_USERID = 8076792445 
local REQUIRED_TOKEN = "lizluk-ghost-2026"

-- Ki·ªÉm tra Token b·∫£o m·∫≠t
if player.UserId ~= ALLOWED_USERID then return end
if _G.LIZLUK_TOKEN ~= REQUIRED_TOKEN then 
    warn("LIZLUK: Sai Token!") 
    return 
end

---------------- ‚öôÔ∏è CONFIG ----------------
_G.LIZLUK_CONFIG = {
    Core = {
        MaxHealth = 5000,
        Health = 5000,
        MaxStamina = 10000,
        Stamina = 10000,
        BaseDamage = 1,
        AttackSpeed = 1.5
    },
    AttributesGui = {
        Dexterity = 20,
        Regeneration = 20,
        Stamina = 10000,
        Strength = 500,
        Stride = 20,
        StrikeGuard = 20,
        Vitality = 5000
    },
    StatisticsGui = {
        Enabled = true,
        TotalBossDamageGiven = 585308,
        TotalDamageGiven = 1457890
    }
}
local DATA = _G.LIZLUK_CONFIG

---------------- üõ°Ô∏è STEALTH & SECURITY ----------------
local mt = getrawmetatable(game)
local oldNamecall = mt.__namecall
local oldIndex = mt.__index
setreadonly(mt, false)

_G.FAKE_STATS = {
    MaxHealth = 320,
    Health = 320,
    MaxStamina = 290,
    Stamina = 290,
    AutoFake = true 
}

-- M·∫°ch logic Auto-Fake: Gi√∫p m√°u ·∫£o t·ª•t theo m√°u th·∫≠t ƒë·ªÉ kh√¥ng b·ªã l·ªô
RunService.Heartbeat:Connect(function()
    if _G.FAKE_STATS.AutoFake and player.Character then
        local hum = player.Character:FindFirstChildOfClass("Humanoid")
        if hum then
            local healthPercent = hum.Health / hum.MaxHealth
            _G.FAKE_STATS.Health = math.floor(_G.FAKE_STATS.MaxHealth * healthPercent)
        end
        if _G.LIZLUK_CONFIG and _G.LIZLUK_CONFIG.Core then
            local realS = _G.LIZLUK_CONFIG.Core.Stamina
            local realMaxS = _G.LIZLUK_CONFIG.Core.MaxStamina
            local staminaPercent = realS / realMaxS
            _G.FAKE_STATS.Stamina = math.floor(_G.FAKE_STATS.MaxStamina * staminaPercent)
        end
    end
end)

-- Metatable Bypass: L·ª´a h·ªá th·ªëng soi c·ªßa Admin/Server
mt.__namecall = newcclosure(function(self, ...)
    local method = getnamecallmethod()
    if method == "FireServer" or method == "InvokeServer" then
        local remote = tostring(self)
        if remote:find("Log") or remote:find("Error") or remote:find("Report") or remote:find("Analytics") then 
            return nil 
        end
    end
    return oldNamecall(self, ...)
end)

mt.__index = newcclosure(function(self, key)
    if not checkcaller() and self:IsDescendantOf(player.Character or player) then
        if key == "Health" or key == "health" then return _G.FAKE_STATS.Health
        elseif key == "MaxHealth" or key == "maxHealth" then return _G.FAKE_STATS.MaxHealth
        elseif key == "Stamina" or key == "stamina" then return _G.FAKE_STATS.Stamina
        elseif key == "MaxStamina" or key == "maxStamina" then return _G.FAKE_STATS.MaxStamina
        elseif key == "GetAttribute" then
            return function(obj, attr)
                if _G.FAKE_STATS[attr] then return _G.FAKE_STATS[attr] end
                return oldIndex(self, key)(obj, attr)
            end
        end
    end
    return oldIndex(self, key)
end)
setreadonly(mt, true)

-- √âp hi·ªÉn th·ªã s·ªë ·∫£o l√™n thanh m√°u tr√™n ƒë·∫ßu (BillboardGui)
RunService.RenderStepped:Connect(function()
    pcall(function()
        local char = player.Character
        if char and char:FindFirstChild("Head") then
            for _, v in ipairs(char.Head:GetDescendants()) do
                if v:IsA("TextLabel") and v.Text:find("/") then
                    v.Text = _G.FAKE_STATS.Health .. " / " .. _G.FAKE_STATS.MaxHealth
                end
            end
        end
    end)
end)

---------------- üß¨ CORE LOGIC ----------------
local function applyCore(char)
    if not char then return end
    for k,v in pairs(DATA.Core) do
        pcall(function() char:SetAttribute(k,v) end)
    end
    for _,d in ipairs(char:GetDescendants()) do
        if (d:IsA("NumberValue") or d:IsA("IntValue")) and DATA.Core[d.Name] then
            d.Value = DATA.Core[d.Name]
        end
    end
    local hum = char:FindFirstChildOfClass("Humanoid")
    if hum then
        hum.MaxHealth = DATA.Core.MaxHealth
        hum.Health = math.clamp(DATA.Core.Health, 0, DATA.Core.MaxHealth)
    end
end

local function applyAttributes()
    pcall(function()
        local attr = player.PlayerGui.Gui.PlayerFolder.AccountStats.Attributes
        for k,v in pairs(DATA.AttributesGui) do
            local o = attr:FindFirstChild(k)
            if o then o.Value = v end
        end
    end)
end

-- T·ª± ƒë·ªông √°p d·ª•ng khi h·ªìi sinh
player.CharacterAdded:Connect(function(c)
    task.wait(1.2)
    applyCore(c)
    applyAttributes()
end)
if player.Character then applyCore(player.Character) applyAttributes() end

-- V√≤ng l·∫∑p c·∫≠p nh·∫≠t Statistics
task.spawn(function()
    while player and player.Parent do
        if DATA.StatisticsGui.Enabled then
            pcall(function()
                local stats = player.PlayerGui.Gui.PlayerFolder.AccountStats.Statistics
                for k,v in pairs(DATA.StatisticsGui) do
                    if k ~= "Enabled" then
                        local o = stats:FindFirstChild(k)
                        if o then o.Value = v end
                    end
                end
            end)
        end
        task.wait(1)
    end
end)

---------------- üé® GUI ROOT ----------------
local gui = Instance.new("ScreenGui", gethui())
gui.Name = "LizlukGhostGUI"
gui.ResetOnSpawn = false

local main = Instance.new("ScrollingFrame", gui)
main.Size = UDim2.fromScale(0.36, 0.68)
main.Position = UDim2.fromScale(0.32, 0.16)
main.CanvasSize = UDim2.fromScale(0, 2.2) -- TƒÉng di·ªán t√≠ch cu·ªôn v√¨ th√™m nhi·ªÅu Input
main.ScrollBarThickness = 6
main.BackgroundColor3 = Color3.fromRGB(8, 8, 12)
main.BorderSizePixel = 0
Instance.new("UICorner", main).CornerRadius = UDim.new(0, 28)

local stroke = Instance.new("UIStroke", main)
stroke.Color = Color3.fromRGB(200, 170, 255)
stroke.Transparency = 0.35

local title = Instance.new("TextLabel", main)
title.Text = "lizluk ghost"
title.Font = Enum.Font.GothamBold
title.TextSize = 30
title.TextColor3 = Color3.fromRGB(235, 225, 255)
title.Size = UDim2.fromScale(1, 0.07)
title.BackgroundTransparency = 1

---------------- ‚å®Ô∏è INPUT CREATOR ----------------
local function inputBox(label, value, cb, yPos)
    local box = Instance.new("TextBox", main)
    box.Text = label..": "..value
    box.Size = UDim2.fromScale(0.9, 0.05)
    box.Position = UDim2.fromScale(0.05, yPos)
    box.BackgroundColor3 = Color3.fromRGB(20, 20, 30)
    box.TextColor3 = Color3.new(1, 1, 1)
    box.ClearTextOnFocus = true
    Instance.new("UICorner", box)

    box.FocusLost:Connect(function(enter)
        if enter then
            local n = tonumber(box.Text)
            if n then
                cb(n)
                box.Text = label..": "..n
            end
        end
    end)
end

-- V·∫Ω c√°c Input l√™n m√†n h√¨nh
local currentY = 0.08
inputBox("MaxHealth (Real)", DATA.Core.MaxHealth, function(n) DATA.Core.MaxHealth = n; applyCore(player.Character) end, currentY)
currentY += 0.055
inputBox("MaxStamina (Real)", DATA.Core.MaxStamina, function(n) DATA.Core.MaxStamina = n; applyCore(player.Character) end, currentY)
currentY += 0.07

-- N√∫t Apply
local applyBtn = Instance.new("TextButton", main)
applyBtn.Size = UDim2.fromScale(0.9, 0.05)
applyBtn.Position = UDim2.fromScale(0.05, currentY)
applyBtn.Text = "Apply Attributes Now"
applyBtn.BackgroundColor3 = Color3.fromRGB(55, 35, 85)
applyBtn.TextColor3 = Color3.new(1, 1, 1)
Instance.new("UICorner", applyBtn)
applyBtn.MouseButton1Click:Connect(applyAttributes)

currentY += 0.07
-- V·∫Ω c√°c thu·ªôc t√≠nh Attributes
for k, v in pairs(DATA.AttributesGui) do
    inputBox(k, v, function(n) DATA.AttributesGui[k] = n end, currentY)
    currentY += 0.055
end

---------------- ü¶ã BUTTERFLY EFFECT ----------------
local BUTTERFLY_ID = "rbxassetid://11254757054"
local butterflies = {}
for i=1, 3 do
    local b = Instance.new("ImageLabel", gui)
    b.Image = BUTTERFLY_ID
    b.Size = UDim2.fromScale(0.05, 0.07)
    b.BackgroundTransparency = 1
    local g = Instance.new("UIStroke", b)
    g.Color = Color3.fromRGB(210, 170, 255)
    g.Thickness = 2
    butterflies[i] = {ui=b, glow=g, off=(math.pi*2/3)*i}
end

RunService.RenderStepped:Connect(function(dt)
    if not gui.Enabled then return end
    local center = main.AbsolutePosition + main.AbsoluteSize/2
    local vp = workspace.CurrentCamera.ViewportSize
    for i, d in ipairs(butterflies) do
        local a = (tick() * 0.8) + d.off
        d.ui.Position = UDim2.fromOffset(
            center.X + math.cos(a)*(0.22*vp.X) - d.ui.AbsoluteSize.X/2,
            center.Y + math.sin(a)*(0.28*vp.Y) - d.ui.AbsoluteSize.Y/2
        )
    end
end)

-- Ph√≠m t·∫Øt ·∫©n/hi·ªán GUI (INSERT)
UIS.InputBegan:Connect(function(i, g)
    if not g and i.KeyCode == Enum.KeyCode.Insert then
        gui.Enabled = not gui.Enabled
    end
end)
